<div class="row">
  <div class="col col-md-3" *ngIf="!loading">
    <profile-card [user]="info" (afterUpload)="afterUpload($event)"></profile-card>
  </div>
  <div class="col-md-9">
    <div class="card">
      <div class="card-body">
        <form role="form" #frm="ngForm" (submit)="submit(frm)" ngNativeValidate method="post">
          <div class="row">
            <div class="col col-md-6">
              <div class="form-group">
                <label>Full name</label>
                <input
                  type="text"
                  class="form-control"
                  placeholder="Enter name"
                  [(ngModel)]="info.name"
                  required
                  name="name"
                  #name="ngModel"
                  pattern="[A-Za-z ]{1,255}"
                />
                <div *ngIf="name.errors && (name.dirty || name.touched || isSubmitted)">
                  <p [hidden]="!name.errors.required" style="color: red">Please enter user first name and last name!</p>
                  <p [hidden]="!name.errors.pattern" style="color: red">Please enter a valid name.</p>
                </div>
              </div>
            </div>
            <div class="col col-md-6">
              <div class="form-group">
                <label>Email</label>
                <input
                  type="email"
                  class="form-control"
                  placeholder="user@example.com"
                  [(ngModel)]="info.email"
                  name="email"
                  required
                  #email="ngModel"
                  pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$"
                />
                <div *ngIf="email.errors && (email.dirty || email.touched || isSubmitted)">
                  <p [hidden]="!email.errors.required" style="color: red">Email is required.</p>
                  <p [hidden]="!email.errors.pattern" style="color: red">Please enter a valid email address.</p>
                </div>
              </div>
            </div>
            <div class="col col-md-6">
              <div class="form-group">
                <label>Role</label>
                <select [(ngModel)]="info.role" name="role" class="form-control">
                  <option value="user">User</option>
                  <option value="admin">Admin</option>
                </select>
              </div>
            </div>
            <!-- <div class="col col-md-6">
              <div class="form-group">
                <label>Type</label>
                <select [(ngModel)]="info.type" name="type" class="form-control">
                  <option value="student">Student</option>
                </select>
              </div>
            </div> -->
            <div class="col col-md-6">
              <div class="form-group">
                <label>Phone number</label>
                <input
                  type="text"
                  class="form-control"
                  [(ngModel)]="info.phoneNumber"
                  name="phone"
                  pattern="[0-9\+]{9,15}$"
                  minlength="9"
                  maxlength="15"
                  #phone="ngModel"
                />
                <div *ngIf="phone.errors && (phone?.dirty || phone?.touched|| isSubmitted)">
                  <p *ngIf="phone?.errors.minlength || phone?.errors.maxlength" class="error" translate>
                    Phone numbers must be between 9 to 15 digits
                  </p>
                  <p [hidden]="!phone?.errors.pattern" class="error" translate>Phone number is invalid format</p>
                </div>
              </div>
            </div>
            <div class="col col-md-6">
              <div class="form-group">
                <label>Address</label>
                <input type="text" class="form-control" [(ngModel)]="info.address" name="address" />
              </div>
            </div>
            <div class="col col-md-6">
              <div class="form-group">
                <label>Password</label>
                <input
                  type="password"
                  class="form-control"
                  [(ngModel)]="info.password"
                  name="password"
                  #password="ngModel"
                  minlength="6"
                />
                <div *ngIf="password.errors && (password.dirty || password.touched || isSubmitted)">
                  <p [hidden]="!password.errors.minlength" style="color: red">
                    Password must be at least 6 characters!
                  </p>
                </div>
                <p class="help help-block">
                  <small>Blank to keep current password</small>
                </p>
              </div>
            </div>
            <div class="col col-md-6">
              <div class="form-group">
                <div class="checkbox">
                  <label>
                    Active?
                    <input type="checkbox" [(ngModel)]="info.isActive" name="isActive" />
                  </label>
                </div>
              </div>
            </div>
            <div class="col col-md-6">
              <div class="form-group">
                <div class="checkbox">
                  <label>
                    Account verified?
                    <input type="checkbox" [(ngModel)]="info.accountVerified" name="accountVerified" />
                  </label>
                </div>
              </div>
            </div>
            <div class="col col-md-6">
              <div class="form-group">
                <div class="checkbox">
                  <label>
                    Enable 2FA Authentication?
                    <input type="checkbox" [(ngModel)]="info.enable2fa" name="enable2fa" />
                  </label>
                </div>
              </div>
            </div>
            <div class="col col-md-12">
              <div class="form-group">
                <button class="btn btn-primary" type="submit">Save</button>
              </div>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
